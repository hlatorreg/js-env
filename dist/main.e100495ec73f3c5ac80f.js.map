{"version":3,"sources":["webpack:///main.e100495ec73f3c5ac80f.js","webpack:///./src/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/api/userApi.js","webpack:///./src/api/baseUrl.js"],"names":["webpackJsonp","module","exports","__webpack_require__","global","_userApi","getUsers","then","result","usersBody","forEach","user","id","firstName","lastName","email","undefined","document","getElementById","innerHTML","deleteLinks","getElementsByClassName","Array","from","link","onclick","event","element","target","preventDefault","deleteUser","attributes","value","row","parentNode","removeChild","call","g","this","Function","eval","e","window","get","del","url","fetch","baseUrl","onSuccess","onError","request","Request","method","response","json","error","console","log","Object","defineProperty","_baseUrl","_baseUrl2","obj","__esModule","default","getBaseUrl","getQueryStringParameterByName","name","location","href","replace","regex","RegExp","results","exec","decodeURIComponent"],"mappings":"AAAAA,cAAc,IACP,CACA,CAED,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,GCPrC,GAAAC,GAAAF,EAAA,IAEA,EAAAE,EAAAC,YAAWC,KAAK,SAAAC,GACZ,GAAIC,GAAY,EAEhBD,GAAOE,QAAQ,SAAAC,GACXF,iDAC+BE,EAAKC,GADpC,0DAEWD,EAAKC,GAFhB,4BAGWD,EAAKE,UAHhB,4BAIWF,EAAKG,SAJhB,4BAKWH,EAAKI,MALhB,wBADJC,IAUAZ,EAAOa,SAASC,eAAe,SAASC,UAAYV,CAEnD,IAAMW,GAAchB,EAAOa,SAASI,uBAAuB,aAG3DC,OAAMC,KAAKH,EAAa,SAAAI,GACpBA,EAAKC,QAAU,SAASC,GACpB,GAAMC,GAAUD,EAAME,MACtBF,GAAMG,kBACN,EAAAxB,EAAAyB,YAAWH,EAAQI,WAAW,WAAWC,MACzC,IAAMC,GAAMN,EAAQO,WAAWA,UAC/BD,GAAIC,WAAWC,YAAYF,UDOXG,KAAKlC,EAASC,EAAoB,KAIzD,SAAUF,EAAQC,GErCxB,GAAAmC,EAGAA,GAAA,WACA,MAAAC,QAGA,KAEAD,KAAAE,SAAA,qBAAAC,MAAA,QACC,MAAAC,GAED,gBAAAC,UACAL,EAAAK,QAOAzC,EAAAC,QAAAmC,GF4CM,SAAUpC,EAAQC,EAASC,GAEjC,YG7DO,SAASG,KACZ,MAAOqC,GAAI,SAGR,QAASb,GAAWlB,GACvB,MAAOgC,YAAahC,GAGxB,QAAS+B,GAAIE,GACT,MAAOC,OAAMC,EAAUF,GAAKtC,KAAKyC,EAAWC,GAGhD,QAASL,GAAIC,GACT,GAAMK,GAAU,GAAIC,SAAQJ,EAAUF,GAClCO,OAAQ,UAEZ,OAAON,OAAMI,GAAS3C,KAAKyC,EAAWC,GAG1C,QAASD,GAAUK,GACf,MAAOA,GAASC,OAGpB,QAASL,GAAQM,GACbC,QAAQC,IAAIF,GHwChBG,OAAOC,eAAezD,EAAS,cAC3B8B,OAAO,IAEX9B,EGnEgBI,WHoEhBJ,EGhEgB4B,aAThB3B,EAAA,EACA,IAAAyD,GAAAzD,EAAA,GH8EI0D,EAEJ,SAAgCC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,IAFhDF,GG5EjCb,GAAU,EAAAc,EAAAG,YH+GV,SAAU/D,EAAQC,EAASC,GAEjC,YIpHe,SAAS8D,KACpB,MAAOC,GAA8B,cAAgB,yBAA2B,IAGpF,QAASA,GAA8BC,EAAMtB,GACpCA,IAAKA,EAAMH,OAAO0B,SAASC,MAChCF,EAAOA,EAAKG,QAAQ,QAAS,OAC7B,IAAIC,GAAQ,GAAIC,QAAO,OAASL,EAAO,qBACnCM,EAAUF,EAAMG,KAAK7B,EACzB,OAAK4B,GACAA,EAAQ,GACNE,mBAAmBF,EAAQ,GAAGH,QAAQ,MAAO,MAD5B,GADH,KJ8GzBZ,OAAOC,eAAezD,EAAS,cAC3B8B,OAAO,IAEX9B,EAAQ8D,QI1HgBC,KJ0IrB","file":"main.e100495ec73f3c5ac80f.js","sourcesContent":["webpackJsonp([0],[\n/* 0 */,\n/* 1 */,\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar _userApi = __webpack_require__(4);\n\n(0, _userApi.getUsers)().then(function (result) {\n    var usersBody = \"\";\n\n    result.forEach(function (user) {\n        usersBody += \"<tr>\\n            <td><a href=\\\"#\\\" data-id=\\\"\" + user.id + \"\\\" class=\\\"deleteUser\\\">Borrar</a></td>\\n            <td>\\\"\" + user.id + \"\\\"</td>\\n            <td>\\\"\" + user.firstName + \"\\\"</td>\\n            <td>\\\"\" + user.lastName + \"\\\"</td>\\n            <td>\\\"\" + user.email + \"\\\"</td>\\n        \";\n    }, undefined);\n\n    global.document.getElementById(\"users\").innerHTML = usersBody;\n\n    var deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n    // Se usa array.from en vez de forEach ya que getElementsByClassName retorna un objeto 'array like'\n    Array.from(deleteLinks, function (link) {\n        link.onclick = function (event) {\n            var element = event.target;\n            event.preventDefault();\n            (0, _userApi.deleteUser)(element.attributes[\"data-id\"].value);\n            var row = element.parentNode.parentNode;\n            row.parentNode.removeChild(row);\n        };\n    });\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(3)))\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getUsers = getUsers;\nexports.deleteUser = deleteUser;\n\n__webpack_require__(0);\n\nvar _baseUrl = __webpack_require__(5);\n\nvar _baseUrl2 = _interopRequireDefault(_baseUrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar baseUrl = (0, _baseUrl2.default)();\n\nfunction getUsers() {\n    return get('users');\n}\n\nfunction deleteUser(id) {\n    return del('users/' + id);\n}\n\nfunction get(url) {\n    return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\nfunction del(url) {\n    var request = new Request(baseUrl + url, {\n        method: 'DELETE'\n    });\n    return fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(response) {\n    return response.json();\n}\n\nfunction onError(error) {\n    console.log(error); // eslint-disable-line no-console\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = getBaseUrl;\nfunction getBaseUrl() {\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : '/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n/***/ })\n],[2]);\n\n\n// WEBPACK FOOTER //\n// main.e100495ec73f3c5ac80f.js","import {getUsers, deleteUser} from './api/userApi.js';\n\ngetUsers().then(result => {\n    let usersBody = \"\";\n\n    result.forEach(user => {\n        usersBody += `<tr>\n            <td><a href=\"#\" data-id=\"${user.id}\" class=\"deleteUser\">Borrar</a></td>\n            <td>\"${user.id}\"</td>\n            <td>\"${user.firstName}\"</td>\n            <td>\"${user.lastName}\"</td>\n            <td>\"${user.email}\"</td>\n        `\n    }, this);\n\n    global.document.getElementById(\"users\").innerHTML = usersBody;\n\n     const deleteLinks = global.document.getElementsByClassName('deleteUser');\n\n     // Se usa array.from en vez de forEach ya que getElementsByClassName retorna un objeto 'array like'\n     Array.from(deleteLinks, link => {\n         link.onclick = function(event) {\n             const element = event.target;\n             event.preventDefault();\n             deleteUser(element.attributes[\"data-id\"].value);\n             const row = element.parentNode.parentNode;\n             row.parentNode.removeChild(row);\n         }\n     });\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 3\n// module chunks = 0","import 'whatwg-fetch';\nimport getBaseUrl from './baseUrl';\n\nconst baseUrl = getBaseUrl();\n\nexport function getUsers() {\n    return get('users');\n}\n\nexport function deleteUser(id) {\n    return del(`users/${id}`);\n}\n\nfunction get(url) {\n    return fetch(baseUrl + url).then(onSuccess, onError);\n}\n\nfunction del(url) {\n    const request = new Request(baseUrl + url, {\n        method: 'DELETE'\n    });\n    return fetch(request).then(onSuccess, onError);\n}\n\nfunction onSuccess(response){\n    return response.json();\n}\n\nfunction onError(error) {\n    console.log(error); // eslint-disable-line no-console\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/userApi.js","export default function getBaseUrl() {\n    return getQueryStringParameterByName('useMockApi') ? 'http://localhost:3001/' : '/';\n}\n\nfunction getQueryStringParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseUrl.js"],"sourceRoot":""}